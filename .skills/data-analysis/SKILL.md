---
name: data-analysis
description: é«˜çº§æ•°æ®åˆ†æå·¥å…·ï¼Œä½¿ç”¨ pandas è¿›è¡Œå…¨é¢çš„æ•°æ®ç»Ÿè®¡åˆ†æã€‚æ”¯æŒå¤šç§æ•°æ®æ ¼å¼è¾“å…¥å’Œä¸°å¯Œçš„åˆ†ææ“ä½œï¼ŒåŒ…æ‹¬æè¿°æ€§ç»Ÿè®¡ã€æ±‡æ€»ç»Ÿè®¡ã€èšåˆåˆ†æã€ç›¸å…³æ€§åˆ†æå’Œåˆ†ç»„åˆ†æã€‚
license: MIT
compatibility: Requires Python 3.8+ with pandas, numpy
metadata:
  author: skillLite
  version: "2.0"
  category: data-analysis
  tags: [data, analysis, statistics, pandas, python]
---

# Data Analysis Skill

é«˜çº§æ•°æ®åˆ†æå·¥å…·ï¼Œæä¾›å…¨é¢çš„æ•°æ®ç»Ÿè®¡å’Œåˆ†æåŠŸèƒ½ã€‚é€‚ç”¨äºæ•°æ®åˆ†æå¸ˆã€ç ”ç©¶äººå‘˜ã€å¼€å‘è€…å’Œä»»ä½•éœ€è¦å¤„ç†å’Œåˆ†ææ•°æ®çš„ç”¨æˆ·ã€‚

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### ä½•æ—¶ä½¿ç”¨æœ¬æŠ€èƒ½
- éœ€è¦å¯¹æ•°æ®é›†è¿›è¡Œå¿«é€Ÿç»Ÿè®¡åˆ†æ
- éœ€è¦è®¡ç®—æ•°æ®çš„æè¿°æ€§ç»Ÿè®¡ä¿¡æ¯ï¼ˆå‡å€¼ã€æ ‡å‡†å·®ã€åˆ†ä½æ•°ç­‰ï¼‰
- éœ€è¦å¯¹æ•°æ®è¿›è¡Œèšåˆæ“ä½œï¼ˆæ±‚å’Œã€å¹³å‡å€¼ã€è®¡æ•°ç­‰ï¼‰
- éœ€è¦åˆ†æä¸åŒå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§
- éœ€è¦æŒ‰ç±»åˆ«åˆ†ç»„è¿›è¡Œç»Ÿè®¡åˆ†æ
- éœ€è¦å¤„ç†å¤šç§æ ¼å¼çš„æ•°æ®ï¼ˆCSVã€JSONã€Pythonæ•°æ®ç»“æ„ï¼‰

### å…¸å‹åº”ç”¨åœºæ™¯
1. **ä¸šåŠ¡æ•°æ®åˆ†æ**ï¼šé”€å”®æ•°æ®ç»Ÿè®¡ã€å®¢æˆ·è¡Œä¸ºåˆ†æ
2. **ç§‘ç ”æ•°æ®å¤„ç†**ï¼šå®éªŒæ•°æ®åˆ†æã€ç»Ÿè®¡æ£€éªŒ
3. **é‡‘èæ•°æ®åˆ†æ**ï¼šè‚¡ç¥¨ä»·æ ¼åˆ†æã€é£é™©è¯„ä¼°
4. **è¿è¥æ•°æ®åˆ†æ**ï¼šç”¨æˆ·æ´»è·ƒåº¦ç»Ÿè®¡ã€è½¬åŒ–ç‡åˆ†æ
5. **æ•™è‚²æ•°æ®åˆ†æ**ï¼šå­¦ç”Ÿæˆç»©åˆ†æã€æ•™å­¦æ•ˆæœè¯„ä¼°

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§

### æ•°æ®è¾“å…¥æ”¯æŒ
- **CSVæ–‡ä»¶**ï¼šç›´æ¥è¯»å–CSVæ ¼å¼æ•°æ®æ–‡ä»¶ï¼ˆæ”¯æŒæœ¬åœ°è·¯å¾„ï¼‰
- **JSONæ–‡ä»¶**ï¼šè¯»å–JSONæ ¼å¼æ•°æ®æ–‡ä»¶
- **JSONå­—ç¬¦ä¸²**ï¼šè§£æJSONæ ¼å¼çš„å­—ç¬¦ä¸²æ•°æ®
- **Pythonæ•°æ®ç»“æ„**ï¼šç›´æ¥ä½¿ç”¨å­—å…¸æˆ–åˆ—è¡¨æ•°æ®

### åˆ†ææ“ä½œç±»å‹
1. **æè¿°æ€§ç»Ÿè®¡** (`describe`) - å®Œæ•´çš„æè¿°æ€§ç»Ÿè®¡ä¿¡æ¯ï¼ˆè®¡æ•°ã€å‡å€¼ã€æ ‡å‡†å·®ã€æœ€å°å€¼ã€25%/50%/75%åˆ†ä½æ•°ã€æœ€å¤§å€¼ï¼‰
2. **æ±‡æ€»ç»Ÿè®¡** (`summary`) - åŸºæœ¬ç»Ÿè®¡æ‘˜è¦ï¼ˆè®¡æ•°ã€å‡å€¼ã€æ ‡å‡†å·®ã€æœ€å°å€¼ã€æœ€å¤§å€¼ã€æ•°æ®ç±»å‹ï¼‰
3. **èšåˆåˆ†æ** (`aggregate`) - èšåˆæ“ä½œï¼ˆæ±‚å’Œã€å‡å€¼ã€è®¡æ•°ã€ä¸­ä½æ•°ã€æ ‡å‡†å·®ï¼‰
4. **ç›¸å…³æ€§åˆ†æ** (`correlation`) - è®¡ç®—æ•°å€¼åˆ—çš„ç›¸å…³æ€§çŸ©é˜µ
5. **åˆ†ç»„åˆ†æ** (`group`) - æŒ‰æŒ‡å®šåˆ—åˆ†ç»„è¿›è¡Œç»Ÿè®¡åˆ†æ

### é«˜çº§åŠŸèƒ½
- **åˆ—é€‰æ‹©**ï¼šå¯æŒ‡å®šåˆ†æç‰¹å®šåˆ—ï¼Œæé«˜åˆ†ææ•ˆç‡
- **åˆ†ç»„æ“ä½œ**ï¼šæŒ‰ç±»åˆ«åˆ—è¿›è¡Œåˆ†ç»„åˆ†æï¼Œæ”¯æŒå¤šçº§åˆ†ç»„
- **å¤šç§èšåˆå‡½æ•°**ï¼šsum, mean, count, median, std, size
- **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œæä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
- **ç±»å‹å®‰å…¨**ï¼šè‡ªåŠ¨å¤„ç†æ•°æ®ç±»å‹ï¼Œç¡®ä¿åˆ†æå‡†ç¡®æ€§

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ç”¨æ³•
```python
# å¯¼å…¥åˆ†æå‡½æ•°
from data_analysis import analyze_data

# åˆ†æCSVæ–‡ä»¶
result = analyze_data("data.csv", "describe")

# åˆ†æJSONæ•°æ®
json_data = '[{"name": "Alice", "age": 25}, {"name": "Bob", "age": 30}]'
result = analyze_data(json_data, "summary")

# åˆ†æPythonå­—å…¸
data_dict = {"scores": [85, 90, 78, 92, 88]}
result = analyze_data(data_dict, "aggregate", operation="mean")
```

### å‘½ä»¤è¡Œä½¿ç”¨
```bash
# åŸºæœ¬æè¿°æ€§ç»Ÿè®¡
python scripts/data_analysis.py sample_data.csv describe

# æŒ‡å®šåˆ—è¿›è¡Œæ±‡æ€»ç»Ÿè®¡
python scripts/data_analysis.py sample_data.csv summary age salary

# èšåˆåˆ†æ - æ±‚å’Œ
python scripts/data_analysis.py sample_data.csv aggregate sum

# ä½¿ç”¨JSONå­—ç¬¦ä¸²æ•°æ®
python scripts/data_analysis.py '{"a": [1,2,3], "b": [4,5,6]}' describe

# åˆ†ç»„åˆ†æ - æŒ‰éƒ¨é—¨ç»Ÿè®¡
python scripts/data_analysis.py sample_data.csv group department mean salary
```

## ğŸ“ è¯¦ç»†ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šå®Œæ•´çš„ä¸šåŠ¡æ•°æ®åˆ†æ
```json
{
  "data": "sales_data.csv",
  "analysis_type": "describe",
  "columns": ["revenue", "profit", "quantity", "customer_rating"]
}
```

### ç¤ºä¾‹2ï¼šå¤šç»´åº¦æ±‡æ€»ç»Ÿè®¡
```json
{
  "data": "employee_data.json",
  "analysis_type": "summary",
  "columns": ["age", "salary", "experience_years", "performance_score"]
}
```

### ç¤ºä¾‹3ï¼šå¤æ‚çš„èšåˆåˆ†æ
```json
{
  "data": "financial_records.csv",
  "analysis_type": "aggregate",
  "operation": "sum",
  "columns": ["revenue", "expenses", "tax", "net_income"]
}
```

### ç¤ºä¾‹4ï¼šç›¸å…³æ€§çŸ©é˜µåˆ†æ
```json
{
  "data": "stock_data.csv",
  "analysis_type": "correlation",
  "columns": ["open_price", "close_price", "volume", "market_cap", "pe_ratio"]
}
```

### ç¤ºä¾‹5ï¼šå¤šå±‚æ¬¡åˆ†ç»„åˆ†æ
```json
{
  "data": "customer_data.csv",
  "analysis_type": "group",
  "group_by": "region",
  "operation": "mean",
  "columns": ["age", "income", "purchase_frequency", "customer_lifetime_value"]
}
```

## âš™ï¸ å‚æ•°è¯¦ç»†è¯´æ˜

### `data` å‚æ•°
- **ç±»å‹**: string
- **æè¿°**: è¾“å…¥æ•°æ®ï¼Œæ”¯æŒå¤šç§æ ¼å¼ï¼š
  1. **æ–‡ä»¶è·¯å¾„**ï¼šCSVæ–‡ä»¶ï¼ˆ`.csv`ï¼‰æˆ–JSONæ–‡ä»¶ï¼ˆ`.json`ï¼‰
  2. **JSONå­—ç¬¦ä¸²**ï¼šæœ‰æ•ˆçš„JSONæ ¼å¼å­—ç¬¦ä¸²
  3. **Pythonæ•°æ®ç»“æ„**ï¼šå­—å…¸æˆ–åˆ—è¡¨çš„å­—ç¬¦ä¸²è¡¨ç¤º
- **ç¤ºä¾‹**: `"data.csv"`, `'[{"x": 1, "y": 2}]'`, `'{"col1": [1,2,3], "col2": [4,5,6]}'`

### `analysis_type` å‚æ•°
- **ç±»å‹**: string
- **é»˜è®¤å€¼**: `"describe"`
- **å¯é€‰å€¼**:
  - `"describe"`: æè¿°æ€§ç»Ÿè®¡ï¼ˆæ¨èç”¨äºæ¢ç´¢æ€§æ•°æ®åˆ†æï¼‰
  - `"summary"`: æ±‡æ€»ç»Ÿè®¡ï¼ˆå¿«é€ŸæŸ¥çœ‹æ•°æ®æ¦‚å†µï¼‰
  - `"aggregate"`: èšåˆåˆ†æï¼ˆè®¡ç®—æ€»å’Œã€å¹³å‡å€¼ç­‰ï¼‰
  - `"correlation"`: ç›¸å…³æ€§åˆ†æï¼ˆåˆ†æå˜é‡é—´å…³ç³»ï¼‰
  - `"group"`: åˆ†ç»„åˆ†æï¼ˆæŒ‰ç±»åˆ«åˆ†æï¼‰

### `columns` å‚æ•°
- **ç±»å‹**: array of strings
- **å¯é€‰**: æ˜¯
- **æè¿°**: æŒ‡å®šè¦åˆ†æçš„åˆ—åã€‚å¦‚æœæœªæä¾›ï¼Œåˆ™åˆ†ææ‰€æœ‰åˆ—ã€‚
- **ç¤ºä¾‹**: `["age", "salary", "experience"]`

### `group_by` å‚æ•°
- **ç±»å‹**: string
- **æ¡ä»¶**: ä»…å½“ `analysis_type` ä¸º `"group"` æ—¶å¿…éœ€
- **æè¿°**: ç”¨äºåˆ†ç»„çš„åˆ—å
- **ç¤ºä¾‹**: `"department"`, `"region"`, `"category"`

### `operation` å‚æ•°
- **ç±»å‹**: string
- **æ¡ä»¶**: å½“ `analysis_type` ä¸º `"aggregate"` æˆ– `"group"` æ—¶ä½¿ç”¨
- **å¯é€‰å€¼**:
  - `"sum"`: æ±‚å’Œ
  - `"mean"`: å¹³å‡å€¼
  - `"count"`: è®¡æ•°
  - `"median"`: ä¸­ä½æ•°
  - `"std"`: æ ‡å‡†å·®
  - `"size"`: åˆ†ç»„å¤§å°ï¼ˆä»…ç”¨äºåˆ†ç»„åˆ†æï¼‰

## ğŸ“‹ Runtime é…ç½®

```yaml
entry_point: scripts/data_analysis.py
language: python
dependencies:
  - pandas>=2.0.0
  - numpy>=1.24.0
input_schema:
  type: object
  properties:
    data:
      type: string
      description: "è¾“å…¥æ•°æ®ï¼Œå¯ä»¥æ˜¯ï¼š1) æ–‡ä»¶è·¯å¾„ï¼ˆCSV/JSONï¼‰ï¼Œ2) JSONå­—ç¬¦ä¸²ï¼Œ3) Pythonå­—å…¸/åˆ—è¡¨çš„å­—ç¬¦ä¸²è¡¨ç¤º"
    analysis_type:
      type: string
      description: "åˆ†æç±»å‹"
      enum:
        - describe
        - summary
        - aggregate
        - correlation
        - group
      default: describe
    columns:
      type: array
      items:
        type: string
      description: "è¦åˆ†æçš„ç‰¹å®šåˆ—åï¼ˆå¯é€‰ï¼Œé»˜è®¤åˆ†ææ‰€æœ‰åˆ—ï¼‰"
    group_by:
      type: string
      description: "åˆ†ç»„åˆ†æçš„åˆ—åï¼ˆä»…ç”¨äºgroupåˆ†æç±»å‹ï¼‰"
    operation:
      type: string
      description: "èšåˆæ“ä½œç±»å‹ï¼ˆç”¨äºaggregateå’Œgroupåˆ†æï¼‰"
      enum:
        - sum
        - mean
        - count
        - median
        - std
        - size
  required:
    - data
```

## ğŸ“¤ è¾“å‡ºæ ¼å¼

æ‰€æœ‰åˆ†ææ“ä½œéƒ½è¿”å›JSONæ ¼å¼çš„ç»“æœï¼Œç»“æ„å¦‚ä¸‹ï¼š

### æˆåŠŸå“åº”
```json
{
  "analysis_type": "åˆ†æç±»å‹",
  "operation": "æ“ä½œç±»å‹ï¼ˆå¦‚æœé€‚ç”¨ï¼‰",
  "group_by": "åˆ†ç»„åˆ—ï¼ˆå¦‚æœé€‚ç”¨ï¼‰",
  "result": {
    // åˆ†æç»“æœæ•°æ®ï¼Œç»“æ„å› åˆ†æç±»å‹è€Œå¼‚
    "column1": {
      "count": 100,
      "mean": 50.5,
      "std": 10.2,
      "min": 20,
      "25%": 35,
      "50%": 50,
      "75%": 65,
      "max": 80
    }
  }
}
```

### é”™è¯¯å“åº”
```json
{
  "analysis_type": "è¯·æ±‚çš„åˆ†æç±»å‹",
  "error": "è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯",
  "suggestion": "å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼ˆå¦‚æœå¯æä¾›ï¼‰"
}
```

## ğŸ“ ç¤ºä¾‹æ•°æ®

æŠ€èƒ½åŒ…å«ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹æ•°æ®æ–‡ä»¶ `sample_data.csv`ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µå | ç±»å‹ | æè¿° | ç¤ºä¾‹å€¼ |
|--------|------|------|--------|
| `name` | string | å‘˜å·¥å§“å | "Alice", "Bob" |
| `age` | integer | å¹´é¾„ | 28, 35 |
| `salary` | integer | è–ªèµ„ï¼ˆç¾å…ƒï¼‰ | 50000, 65000 |
| `department` | string | éƒ¨é—¨ | "Engineering", "Marketing" |
| `experience_years` | integer | å·¥ä½œç»éªŒå¹´é™ | 3, 8 |

### æ•°æ®é¢„è§ˆ
```csv
name,age,salary,department,experience_years
Alice,28,50000,Engineering,3
Bob,35,65000,Marketing,8
Charlie,42,80000,Engineering,15
Diana,31,55000,Sales,5
Eve,29,48000,HR,2
Frank,38,72000,Engineering,12
Grace,45,85000,Marketing,20
Henry,27,46000,Sales,1
Ivy,33,60000,HR,7
Jack,40,78000,Engineering,18
```

## ğŸ› ï¸ èµ„æºè¯´æ˜

### scripts/
- `data_analysis.py` - ä¸»è¦æ•°æ®åˆ†æè„šæœ¬ï¼ŒåŒ…å«æ‰€æœ‰åˆ†æåŠŸèƒ½
- `sample_data.csv` - ç¤ºä¾‹æ•°æ®æ–‡ä»¶ï¼Œç”¨äºæµ‹è¯•å’Œæ¼”ç¤º
- `example.py` - ç¤ºä¾‹è„šæœ¬ï¼Œå±•ç¤ºåŸºæœ¬ç”¨æ³•

### references/
- `api_reference.md` - å®Œæ•´çš„APIå‚è€ƒæ–‡æ¡£ï¼ŒåŒ…å«æ‰€æœ‰å‡½æ•°å’Œå‚æ•°çš„è¯¦ç»†è¯´æ˜

### assets/
- `example_asset.txt` - ç¤ºä¾‹èµ„æºæ–‡ä»¶

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. æ•°æ®é¢„å¤„ç†å»ºè®®
- ç¡®ä¿æ•°æ®æ ¼å¼æ­£ç¡®ï¼Œç¼ºå¤±å€¼å·²å¤„ç†
- æ•°å€¼åˆ—åº”ä¸ºæ•°å­—ç±»å‹ï¼Œåˆ†ç±»åˆ—åº”ä¸ºå­—ç¬¦ä¸²ç±»å‹
- å¤§å‹æ•°æ®é›†å»ºè®®å…ˆè¿›è¡ŒæŠ½æ ·åˆ†æ

### 2. åˆ†æç­–ç•¥
- å¼€å§‹åˆ†æå‰ï¼Œå…ˆä½¿ç”¨ `describe` äº†è§£æ•°æ®æ¦‚å†µ
- ä½¿ç”¨ `summary` å¿«é€ŸæŸ¥çœ‹å…³é”®ç»Ÿè®¡æŒ‡æ ‡
- å¯¹äºåˆ†ç±»æ•°æ®ï¼Œä½¿ç”¨ `group` åˆ†æä¸åŒç±»åˆ«çš„å·®å¼‚
- åˆ†æå˜é‡å…³ç³»æ—¶ï¼Œä½¿ç”¨ `correlation` æŸ¥çœ‹ç›¸å…³æ€§

### 3. æ€§èƒ½ä¼˜åŒ–
- å¯¹äºå¤§å‹æ•°æ®é›†ï¼ŒæŒ‡å®š `columns` å‚æ•°åªåˆ†æéœ€è¦çš„åˆ—
- åˆ†ç»„åˆ†ææ—¶ï¼Œç¡®ä¿åˆ†ç»„åˆ—æœ‰é€‚å½“çš„åŸºæ•°
- ç›¸å…³æ€§åˆ†æåªå¯¹æ•°å€¼åˆ—æœ‰æ•ˆï¼Œéæ•°å€¼åˆ—ä¼šè‡ªåŠ¨æ’é™¤

### 4. é”™è¯¯å¤„ç†
- æ£€æŸ¥è¿”å›ç»“æœä¸­æ˜¯å¦åŒ…å« `error` å­—æ®µ
- æ ¹æ®é”™è¯¯ä¿¡æ¯è°ƒæ•´è¾“å…¥å‚æ•°
- ç¡®ä¿æ–‡ä»¶è·¯å¾„æ­£ç¡®ï¼Œæ–‡ä»¶æ ¼å¼æ”¯æŒ

## ğŸ”„ ç‰ˆæœ¬å†å²

### v2.0 (å½“å‰ç‰ˆæœ¬)
- æ·»åŠ äº†åˆ†ç»„åˆ†æåŠŸèƒ½
- æ”¯æŒåˆ—é€‰æ‹©å‚æ•°
- å¢åŠ äº†ç›¸å…³æ€§åˆ†æ
- æ”¹è¿›äº†é”™è¯¯å¤„ç†æœºåˆ¶
- æ·»åŠ äº†å®Œæ•´çš„ç¤ºä¾‹æ•°æ®

### v1.0
- åŸºç¡€æè¿°æ€§ç»Ÿè®¡åŠŸèƒ½
- æ”¯æŒCSVå’ŒJSONæ•°æ®è¾“å…¥
- åŸºæœ¬çš„èšåˆæ“ä½œ

## ğŸ“ æ”¯æŒä¸åé¦ˆ

å¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼š
1. æ£€æŸ¥é”™è¯¯ä¿¡æ¯ä¸­çš„è¯¦ç»†è¯´æ˜
2. å‚è€ƒç¤ºä¾‹æ•°æ®å’Œä½¿ç”¨ç¤ºä¾‹
3. ç¡®ä¿ä¾èµ–åº“å·²æ­£ç¡®å®‰è£…

---

**æŠ€èƒ½çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª  
**æµ‹è¯•è¦†ç›–ç‡**: å…¨é¢æµ‹è¯•é€šè¿‡  
**æ–‡æ¡£å®Œæ•´æ€§**: å®Œæ•´  
**ç”¨æˆ·è¯„ä»·**: é«˜åº¦æ¨èç”¨äºæ•°æ®åˆ†æä»»åŠ¡