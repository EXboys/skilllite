{
  "version": 1,
  "rules": [
    {
      "id": "explicit_skill",
      "priority": 100,
      "instruction": "**If user says \"使用 XX skill\" / \"用 XX 技能\" / \"use XX skills\"**, you MUST add that skill to the task list. Do NOT return empty list."
    },
    {
      "id": "weather",
      "priority": 90,
      "keywords": ["天气", "气温", "气象", "今天天气", "明天天气", "某地天气", "适合出行吗", "适合出去玩吗"],
      "tool_hint": "weather",
      "instruction": "**天气/气象/天气预报**: When the user asks about weather (天气、气温、气象、今天天气、明天天气、某地天气、适合出行吗、适合出去玩吗 etc.), you MUST use **weather** skill. The LLM cannot provide real-time weather data; only the weather skill can. Return a task with tool_hint: \"weather\"."
    },
    {
      "id": "realtime_http",
      "priority": 90,
      "keywords": ["实时", "最新", "实时信息", "最新数据", "实时数据", "最新排名", "实时查询", "抓取网页", "获取最新", "fetch live data"],
      "tool_hint": "http-request",
      "instruction": "**实时/最新/实时信息**: When the user explicitly asks for 实时、最新、实时信息、最新数据、实时数据、最新排名、实时查询、抓取网页、获取最新、fetch live data etc., you MUST use **http-request** skill. The LLM's knowledge has a cutoff; only HTTP requests can fetch current information. Return a task with tool_hint: \"http-request\"."
    },
    {
      "id": "continue_context",
      "priority": 85,
      "keywords": ["继续", "继续未完成", "继续之前", "继续任务"],
      "context_keywords": ["实时", "最新", "排名", "university", "QS", "官网", "需要用户自行查询", "请访问官网"],
      "tool_hint": "http-request",
      "instruction": "**继续/继续未完成的任务**: When the user says 继续、继续未完成、继续之前、继续任务 etc., you MUST use the **conversation context** (if provided) to understand what task to continue. If the context mentions: real-time data, rankings, university comparison, fees, QS ranking, 实时、最新、需要用户自行查询、请访问官网 etc., you MUST plan **http-request** to fetch the data. The AI must DO the work using tools, NOT ask the user to do it. Only return empty list [] when the continued task is truly LLM-only (e.g. creative writing)."
    },
    {
      "id": "xiaohongshu",
      "priority": 90,
      "keywords": ["小红书", "种草文案", "小红书图文", "小红书笔记"],
      "tool_hint": "xiaohongshu-writer",
      "instruction": "**小红书/种草/图文笔记**: When the task involves 小红书、种草文案、小红书图文、小红书笔记, you MUST use **xiaohongshu-writer** skill. It generates structured content + thumbnail image. Return a task with tool_hint: \"xiaohongshu-writer\"."
    },
    {
      "id": "html_preview",
      "priority": 90,
      "keywords": ["html渲染", "渲染出来", "预览", "在浏览器中打开", "html呈现", "网页", "PPT"],
      "tool_hint": "file_operation",
      "instruction": "**HTML/PPT/网页渲染/预览**: When the user asks for HTML content, web page, PPT, or explicitly says \"通过html渲染\" / \"渲染出来\" / \"预览\" / \"在浏览器中打开\" / \"html呈现\", you MUST use **write_output** + **preview_server**. The LLM cannot provide a live browser preview—only tools can. Return tasks with tool_hint: \"file_operation\" (e.g. write_output to save HTML, then preview_server to open in browser)."
    }
  ]
}
